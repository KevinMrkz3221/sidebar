<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SidePanel Hub</title>
    <link rel="stylesheet" href="sidepanel.css">
</head>

<body>
    <div class="sidebar">
        <div class="collapse-icon" id="collapse-sidebar" title="Collapse Sidebar">
            <svg viewBox="0 0 24 24" width="20" height="20">
                <path fill="currentColor" d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z" />
            </svg>
        </div>
        <div id="apps-container">
            <!-- Dynamic icons will be injected here -->
        </div>

        <div class="spacer"></div>

        <div class="pin-icon" id="pin-toggle" title="Pin Sidebar">
            <svg viewBox="0 0 24 24" width="20" height="20">
                <path fill="currentColor"
                    d="M16 12V4h1V2H7v2h1v8l-2 2v2h5.2v6h1.6v-6H18v-2l-2-2m-7.2 2l1.2-1.2V4h4v6.8l1.2 1.2h-6.4Z" />
            </svg>
        </div>
        <div class="pomodoro-icon" id="pomodoro-trigger" title="Pomodoro Timer">
            <svg viewBox="0 0 24 24" width="20" height="20">
                <path fill="currentColor"
                    d="M12 20a8 8 0 0 0 8-8a8 8 0 0 0-8-8a8 8 0 0 0-8 8a8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10a10 10 0 0 1-10 10A10 10 0 0 1 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67l-.75 1.23L11 13V7h1.5Z" />
            </svg>
        </div>
        <div class="tool-icon" id="notes-trigger" title="Quick Notes">
            <svg viewBox="0 0 24 24" width="20" height="20">
                <path fill="currentColor"
                    d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z" />
            </svg>
        </div>
        <div class="tool-icon" id="translator-trigger" title="Quick Translator">
            <svg viewBox="0 0 24 24" width="20" height="20">
                <path fill="currentColor"
                    d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17c-.72 2.06-1.77 3.97-3.14 5.72-.73-.81-1.39-1.72-1.95-2.69h-2c.67 1.25 1.54 2.45 2.58 3.56l-5.18 5.14L5 19l5-5 4.54 4.5 1.33-1.43zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z" />
            </svg>
        </div>
        <div class="tool-icon" id="colorpicker-trigger" title="Color Picker">
            <svg viewBox="0 0 24 24" width="20" height="20">
                <path fill="currentColor"
                    d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5c0-.39-.15-.74-.39-1.01c-.23-.26-.38-.61-.38-.99c0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5c0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9s1.5.67 1.5 1.5S7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />
            </svg>
        </div>
        <div class="tool-icon" id="tasks-trigger" title="Tasks Manager">
            <svg viewBox="0 0 24 24" width="20" height="20">
                <path fill="currentColor"
                    d="M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1s-1-.45-1-1s.45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z" />
            </svg>
        </div>
        <div class="settings-icon" id="settings-trigger" title="Settings">
            <svg viewBox="0 0 24 24" width="20" height="20">
                <path fill="currentColor"
                    d="M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5A3.5 3.5 0 0 1 15.5 12A3.5 3.5 0 0 1 12 15.5M19.43 12.97c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-.97l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.08-.73-1.69-.98l-.37-2.65A.488.488 0 0 0 14 2h-4c-.25 0-.46.18-.49.42l-.37 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.63c-.04.32-.07.65-.07.97c0 .33.03.66.07.97l-2.11 1.63c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.31.61.22l2.49-1c.52.39 1.08.73 1.69.98l.37 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.37-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.22.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.63Z" />
            </svg>
        </div>

        <div id="weather-widget" class="weather-widget" title="Local Weather">
            <div id="weather-icon">--</div>
            <div id="weather-temp">--¬∞</div>
            <div id="weather-city">Locating...</div>
        </div>
    </div>

    <div class="content">
        <!-- Quick Notes View -->
        <div id="notes-panel" class="tool-panel">
            <div id="notes-list-view">
                <div class="tool-header">
                    <h3>Notes</h3>
                    <button id="add-note-btn" class="add-small">+</button>
                </div>
                <div class="tool-body">
                    <div id="notes-list-container" class="notes-list">
                        <!-- Notes will be injected here -->
                    </div>
                </div>
            </div>

            <div id="notes-edit-view" style="display:none;">
                <div class="tool-header">
                    <button id="back-to-notes" class="back-link">‚Üê Back</button>
                    <span id="notes-status" class="status-indicator"></span>
                </div>
                <div class="tool-body">
                    <textarea id="notes-area" placeholder="Write something... (Auto-saves)"></textarea>
                    <button id="delete-note-btn" class="delete-link">Delete Note</button>
                </div>
            </div>
        </div>

        <!-- Translator View -->
        <div id="translator-panel" class="tool-panel">
            <div class="tool-header">
                <h3>Quick Translator</h3>
            </div>
            <div class="tool-body">
                <div class="translator-controls">
                    <select id="lang-from">
                        <option value="auto">Auto Detect</option>
                        <option value="en">English</option>
                        <option value="es">Spanish</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="it">Italian</option>
                        <option value="pt">Portuguese</option>
                    </select>
                    <button id="swap-langs" class="swap-btn" title="Swap Languages">üîÅ</button>
                    <select id="lang-to">
                        <option value="es" selected>Spanish</option>
                        <option value="en">English</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="it">Italian</option>
                        <option value="pt">Portuguese</option>
                    </select>
                </div>
                <textarea id="trans-source" placeholder="Type text to translate..."></textarea>
                <button id="translate-btn" class="primary-btn">Translate</button>
                <div id="trans-result" class="result-box">
                    <p id="trans-text" class="placeholder">Translation will appear here...</p>
                </div>
            </div>
        </div>

        <!-- Color Picker View -->
        <div id="colorpicker-panel" class="tool-panel">
            <div class="tool-header">
                <h3>Color Picker</h3>
            </div>
            <div class="tool-body">
                <div class="picker-container">
                    <input type="color" id="main-color-picker" value="#3ea6ff">
                </div>
                <div class="color-values">
                    <div class="value-item">
                        <label>HEX</label>
                        <div class="value-row">
                            <span id="hex-value">#3ea6ff</span>
                            <button class="copy-small" data-target="hex-value">Copy</button>
                        </div>
                    </div>
                    <div class="value-item">
                        <label>RGB</label>
                        <div class="value-row">
                            <span id="rgb-value">rgb(62, 166, 255)</span>
                            <button class="copy-small" data-target="rgb-value">Copy</button>
                        </div>
                    </div>
                </div>
                <div class="recent-colors">
                    <label>Recent Colors</label>
                    <div id="color-history" class="color-bubbles"></div>
                </div>
            </div>
        </div>

        <!-- Tasks View -->
        <div id="tasks-panel" class="tool-panel">
            <div class="tool-header">
                <h3>Tasks</h3>
            </div>
            <div class="tool-body">
                <div class="task-input-group">
                    <input type="text" id="new-task-input" placeholder="Add a new task...">
                    <button id="add-task-btn" class="add-btn">+</button>
                </div>
                <div id="tasks-active-container" class="tasks-list">
                    <!-- Active tasks will be injected here -->
                </div>
                <div id="completed-tasks-divider" class="completed-section-header" style="display: none;">
                    <span>Completed</span>
                </div>
                <div id="tasks-completed-container" class="tasks-list completed-list">
                    <!-- Completed tasks will be injected here -->
                </div>
            </div>
        </div>

        <!-- Pomodoro View -->
        <div id="pomodoro-panel" class="pomodoro-panel">
            <div class="pomodoro-header">
                <h3>Pomodoro Timer</h3>
            </div>
            <div class="pomodoro-body">
                <div class="timer-display">
                    <span id="timer-minutes">25</span>:<span id="timer-seconds">00</span>
                </div>
                <div class="timer-type" id="timer-label">Focus Time</div>

                <div class="timer-controls">
                    <button id="timer-start" class="primary-btn">Start</button>
                    <button id="timer-pause" class="secondary-btn" style="display:none;">Pause</button>
                    <button id="timer-reset" class="secondary-btn">Reset</button>
                </div>

                <div class="timer-settings">
                    <div class="setting-group">
                        <label>Work (min)</label>
                        <input type="number" id="work-duration" value="25" min="1">
                    </div>
                    <div class="setting-group">
                        <label>Break (min)</label>
                        <input type="number" id="break-duration" value="5" min="1">
                    </div>
                </div>

                <div class="pomodoro-history">
                    <div class="history-header">
                        <h4>Today's Sessions</h4>
                        <button id="export-history" class="export-btn" title="Export History (CSV)">
                            <svg viewBox="0 0 24 24" width="16" height="16">
                                <path fill="currentColor" d="M19 9h-4V3H9v6H5l7 7l7-7zM5 18v2h14v-2H5z" />
                            </svg>
                        </button>
                    </div>
                    <div id="history-list">
                        <!-- History items will be injected here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Panel (Integrated View) -->
        <div id="settings-panel" class="settings-panel">
            <div class="settings-header">
                <h3>Customice Sidebar</h3>
            </div>
            <div class="settings-body">
                <div class="settings-section">
                    <h4>Visible Tools</h4>
                    <div class="toggle-group">
                        <label class="toggle-item">
                            <span>Pomodoro Timer</span>
                            <input type="checkbox" id="toggle-pomodoro" checked>
                        </label>
                        <label class="toggle-item">
                            <span>Quick Notes</span>
                            <input type="checkbox" id="toggle-notes" checked>
                        </label>
                        <label class="toggle-item">
                            <span>Quick Translator</span>
                            <input type="checkbox" id="toggle-translator" checked>
                        </label>
                        <label class="toggle-item">
                            <span>Color Picker</span>
                            <input type="checkbox" id="toggle-colorpicker" checked>
                        </label>
                        <label class="toggle-item">
                            <span>Task Manager</span>
                            <input type="checkbox" id="toggle-tasks" checked>
                        </label>
                        <label class="toggle-item">
                            <span>Weather Widget</span>
                            <input type="checkbox" id="toggle-weather" checked>
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h4>Weather Settings</h4>
                    <div class="input-group">
                        <label style="font-size: 11px; color: #888;">Manual City (Leave empty for Geo)</label>
                        <input type="text" id="weather-location-input" placeholder="e.g. Madrid, ES">
                    </div>
                </div>

                <div class="settings-section">
                    <h4>Custom Sites</h4>
                    <div class="input-group">
                        <input type="text" id="new-app-name" placeholder="Name (e.g. ChatGPT)">
                        <input type="text" id="new-app-url" placeholder="URL (https://...)">
                        <button id="add-app-btn" class="primary-btn">Add Site</button>
                    </div>
                    <div id="apps-list" class="apps-list-manage">
                        <!-- List of added apps for removal -->
                    </div>
                </div>
            </div>
        </div>
        <iframe id="app-frame" src="about:blank" frameborder="0"></iframe>
    </div>
    <script src="sidepanel.js"></script>
</body>

</html>