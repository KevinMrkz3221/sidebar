<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SidePanel Hub</title>
    <link rel="stylesheet" href="sidepanel.css">
</head>

<body>
    <div class="sidebar">
        <div class="collapse-icon" id="collapse-sidebar" title="Collapse Sidebar">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20">
                <path d="m15 18-6-6 6-6"/>
            </svg>
        </div>
        <div id="apps-container">
            <!-- Dynamic icons will be injected here -->
        </div>

        <div class="spacer"></div>

        <div class="pin-icon" id="pin-toggle" title="Pin Sidebar">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20">
                <line x1="12" y1="2" x2="12" y2="22"/><polyline points="5 9 12 2 19 9"/><polyline points="5 15 12 22 19 15"/>
            </svg>
        </div>
        <div class="pomodoro-icon" id="pomodoro-trigger" title="Timer">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20">
                <circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>
            </svg>
        </div>
        <div class="tool-icon" id="notes-trigger" title="Notes">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20">
                <path d="M15.5 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3z"/><path d="M15 3v6h6"/><line x1="9" y1="13" x2="15" y2="13"/><line x1="9" y1="17" x2="15" y2="17"/>
            </svg>
        </div>
        <div class="tool-icon" id="translator-trigger" title="Translate">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20">
                <path d="m5 8 6 6"/><path d="m4 14 6-6 2-3"/><path d="M2 5h12"/><path d="M7 2h1"/><path d="m22 22-5-10-5 10"/><path d="M14 18h6"/>
            </svg>
        </div>
        <div class="tool-icon" id="colorpicker-trigger" title="Color Picker">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20">
                <path d="m2 22 1-1h3l9-9"/><path d="M11 8V4.5a1.5 1.5 0 0 1 3 0V8"/><path d="M11 4.5a3 3 0 0 1 6 0v2.5"/><path d="M17 10h-2M15 13h-2M13 16h-2M10 19h-2"/>
            </svg>
        </div>
        <div class="tool-icon" id="tasks-trigger" title="Tasks">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20">
                <path d="m9 11 3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
            </svg>
        </div>
        <div class="settings-icon" id="settings-trigger" title="Settings">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20">
                <circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
            </svg>
        </div>

        <div id="weather-widget" class="weather-widget" title="Weather">
            <div id="weather-icon">--</div>
            <div id="weather-temp">--¬∞</div>
            <div id="weather-city">Locating...</div>
        </div>
    </div>

    <div class="content">
        <!-- Quick Notes View -->
        <div id="notes-panel" class="tool-panel">
            <div id="notes-list-view">
                <div class="tool-header">
                    <h3>Notes</h3>
                    <button id="add-note-btn" class="add-small">+</button>
                </div>
                <div class="tool-body">
                    <div id="notes-list-container" class="notes-list">
                        <!-- Notes will be injected here -->
                    </div>
                </div>
            </div>

            <div id="notes-edit-view" style="display:none;">
                <div class="tool-header">
                    <button id="back-to-notes" class="back-link">‚Üê Back</button>
                    <span id="notes-status" class="status-indicator"></span>
                </div>
                <div class="tool-body">
                    <textarea id="notes-area" placeholder="Write something... (Auto-saves)"></textarea>
                    <button id="delete-note-btn" class="delete-link">Delete Note</button>
                </div>
            </div>
        </div>

        <!-- Translator View -->
        <div id="translator-panel" class="tool-panel">
            <div class="tool-header">
                <h3>Quick Translator</h3>
            </div>
            <div class="tool-body">
                <div class="translator-controls">
                    <select id="lang-from">
                        <option value="auto">Auto Detect</option>
                        <option value="en">English</option>
                        <option value="es">Spanish</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="it">Italian</option>
                        <option value="pt">Portuguese</option>
                    </select>
                    <button id="swap-langs" class="swap-btn" title="Swap Languages">üîÅ</button>
                    <select id="lang-to">
                        <option value="es" selected>Spanish</option>
                        <option value="en">English</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="it">Italian</option>
                        <option value="pt">Portuguese</option>
                    </select>
                </div>
                <textarea id="trans-source" placeholder="Type text to translate..."></textarea>
                <button id="translate-btn" class="primary-btn">Translate</button>
                <div id="trans-result" class="result-box">
                    <p id="trans-text" class="placeholder">Translation will appear here...</p>
                </div>
            </div>
        </div>

        <!-- Color Picker View -->
        <div id="colorpicker-panel" class="tool-panel">
            <div class="tool-header">
                <h3>Color Picker</h3>
            </div>
            <div class="tool-body">
                <div class="picker-container">
                    <input type="color" id="main-color-picker" value="#3ea6ff">
                </div>
                <div class="color-values">
                    <div class="value-item">
                        <label>HEX</label>
                        <div class="value-row">
                            <span id="hex-value">#3ea6ff</span>
                            <button class="copy-small" data-target="hex-value">Copy</button>
                        </div>
                    </div>
                    <div class="value-item">
                        <label>RGB</label>
                        <div class="value-row">
                            <span id="rgb-value">rgb(62, 166, 255)</span>
                            <button class="copy-small" data-target="rgb-value">Copy</button>
                        </div>
                    </div>
                </div>
                <div class="recent-colors">
                    <label>Recent Colors</label>
                    <div id="color-history" class="color-bubbles"></div>
                </div>
            </div>
        </div>

        <!-- Tasks View -->
        <div id="tasks-panel" class="tool-panel">
            <div class="tool-header">
                <h3>Tasks</h3>
            </div>
            <div class="tool-body">
                <div class="task-input-group">
                    <input type="text" id="new-task-input" placeholder="Add a new task...">
                    <button id="add-task-btn" class="add-btn">+</button>
                </div>
                <div id="tasks-active-container" class="tasks-list">
                    <!-- Active tasks will be injected here -->
                </div>
                <div id="completed-tasks-divider" class="completed-section-header" style="display: none;">
                    <span>Completed</span>
                </div>
                <div id="tasks-completed-container" class="tasks-list completed-list">
                    <!-- Completed tasks will be injected here -->
                </div>
            </div>
        </div>

        <!-- Pomodoro View -->
        <div id="pomodoro-panel" class="pomodoro-panel">
            <div class="pomodoro-header">
                <h3>Pomodoro Timer</h3>
            </div>
            <div class="pomodoro-body">
                <div class="timer-display">
                    <span id="timer-minutes">25</span>:<span id="timer-seconds">00</span>
                </div>
                <div class="timer-type" id="timer-label">Focus Time</div>

                <div class="timer-controls">
                    <button id="timer-start" class="primary-btn">Start</button>
                    <button id="timer-pause" class="secondary-btn" style="display:none;">Pause</button>
                    <button id="timer-reset" class="secondary-btn">Reset</button>
                </div>

                <div class="timer-settings">
                    <div class="setting-group">
                        <label>Work (min)</label>
                        <input type="number" id="work-duration" value="25" min="1">
                    </div>
                    <div class="setting-group">
                        <label>Break (min)</label>
                        <input type="number" id="break-duration" value="5" min="1">
                    </div>
                </div>

                <div class="pomodoro-history">
                    <div class="history-header">
                        <h4>Today's Sessions</h4>
                        <button id="export-history" class="export-btn" title="Export History (CSV)">
                            <svg viewBox="0 0 24 24" width="16" height="16">
                                <path fill="currentColor" d="M19 9h-4V3H9v6H5l7 7l7-7zM5 18v2h14v-2H5z" />
                            </svg>
                        </button>
                    </div>
                    <div id="history-list">
                        <!-- History items will be injected here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Panel (Integrated View) -->
        <div id="settings-panel" class="settings-panel">
            <div class="settings-header">
                <h3>Customice Sidebar</h3>
            </div>
            <div class="settings-body">
                <div class="settings-section">
                    <h4>Visible Tools</h4>
                    <div class="toggle-group">
                        <label class="toggle-item">
                            <span>Pomodoro Timer</span>
                            <input type="checkbox" id="toggle-pomodoro" checked>
                        </label>
                        <label class="toggle-item">
                            <span>Quick Notes</span>
                            <input type="checkbox" id="toggle-notes" checked>
                        </label>
                        <label class="toggle-item">
                            <span>Quick Translator</span>
                            <input type="checkbox" id="toggle-translator" checked>
                        </label>
                        <label class="toggle-item">
                            <span>Color Picker</span>
                            <input type="checkbox" id="toggle-colorpicker" checked>
                        </label>
                        <label class="toggle-item">
                            <span>Task Manager</span>
                            <input type="checkbox" id="toggle-tasks" checked>
                        </label>
                        <label class="toggle-item">
                            <span>Weather Widget</span>
                            <input type="checkbox" id="toggle-weather" checked>
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h4>Weather Settings</h4>
                    <div class="input-group">
                        <label style="font-size: 11px; color: #888;">Manual City (Leave empty for Geo)</label>
                        <input type="text" id="weather-location-input" placeholder="e.g. Madrid, ES">
                    </div>
                </div>

                <div class="settings-section">
                    <h4>Custom Sites</h4>
                    <div class="input-group">
                        <input type="text" id="new-app-name" placeholder="Name (e.g. ChatGPT)">
                        <input type="text" id="new-app-url" placeholder="URL (https://...)">
                        <button id="add-app-btn" class="primary-btn">Add Site</button>
                    </div>
                    <div id="apps-list" class="apps-list-manage">
                        <!-- List of added apps for removal -->
                    </div>
                </div>
            </div>
        </div>
        <iframe id="app-frame" src="about:blank" frameborder="0"></iframe>
    </div>
    <script src="sidepanel.js"></script>
</body>

</html>